# ScalaSchemaz Project Viewer UI: Architecture & Data Model Plan

## Overview

This document outlines the architecture, data models, and implementation plan for a UI viewer that visualizes planned work items for the ScalaSchemaz (Chez) project. The UI will help stakeholders explore and track Features, Defects, Technical Debt, and Risks, based on structured planning data in `.codeloops/missing-types-implementation`.

---

## 1. Data Model Analysis

### Work Item Types

- **Features**: New capabilities or enhancements (from `tasks.json`)
- **Defects**: Bugs or broken functionality (from `problem.json` and `tasks.json`)
- **Technical Debt**: Refactoring, missing types, or architectural improvements (from `technical.json` and `tasks.json`)
- **Risks**: Known technical or project risks (from `technical.json`)

### Core Entities

- **WorkItem**

  - `id`: string
  - `title`: string
  - `description`: string
  - `type`: enum [Feature, Defect, TechDebt, Risk]
  - `priority`: string (e.g., P0, P1)
  - `status`: string (e.g., pending, in_progress, completed)
  - `estimatedHours`: number (optional)
  - `userStory`: string (optional)
  - `acceptanceCriteria`: string[] (optional)
  - `successDefinition`: string (optional)
  - `dependencies`: string[] (optional, other WorkItem ids)
  - `createdDate`: string (ISO)
  - `updatedDate`: string (ISO)
  - `source`: string (tasks.json, technical.json, problem.json)

- **Risk**

  - `risk`: string
  - `mitigation`: string

- **Persona** (for user context)
  - `persona`: string
  - `goals`: string[]
  - `painPoints`: string[]
  - `stories`: string[]

---

## 2. UI Architecture

### 2.1. Main Components

- **Sidebar Navigation**

  - Filter by: Work Item Type (Feature, Defect, Tech Debt, Risk)
  - Search by title/id
  - Quick links: All, By Status, By Priority

- **Work Item List View**

  - Table or card view of work items
  - Columns: Title, Type, Priority, Status, Estimated Hours, Dependencies
  - Click to view details

- **Work Item Detail View**

  - Full details: description, user story, acceptance criteria, dependencies, success definition
  - Show related risks, technical context, and links to source files

- **Risks & Technical Debt Dashboard**

  - List of risks with mitigations
  - Technical debt items with context and status

- **Personas & User Stories**
  - View personas, their goals, pain points, and stories

### 2.2. Data Flow

- **Data Loader**: Reads and parses JSON files from `.codeloops/missing-types-implementation/`
- **Normalizer**: Maps raw JSON to unified WorkItem/Risk/Persona models
- **State Management**: (e.g., React context, Redux, or simple hooks)
- **UI Components**: Render lists, details, dashboards

### 2.3. Technology Stack (Recommended)

- **Frontend**: React (with TypeScript)
- **Styling**: Tailwind CSS or Material UI
- **Data**: Local file loader (for desktop app) or REST API (for web)
- **Build Tool**: Vite or Create React App

---

## 3. Implementation Plan

### Phase 1: Data Model & Loader

- [ ] Define TypeScript interfaces for WorkItem, Risk, Persona
- [ ] Implement JSON loader and normalizer for all three files
- [ ] Map tasks, technical, and problem data to unified models

### Phase 2: UI Skeleton

- [ ] Set up project structure (React + Vite/CRA)
- [ ] Implement sidebar navigation and filtering
- [ ] Implement Work Item List View (table/cards)
- [ ] Implement Work Item Detail View

### Phase 3: Specialized Dashboards

- [ ] Risks & Technical Debt dashboard
- [ ] Personas & User Stories view
- [ ] Dependency visualization (e.g., graph of work item dependencies)

### Phase 4: Polish & Documentation

- [ ] Add search, sorting, and advanced filters
- [ ] Responsive design and accessibility
- [ ] Documentation: How to add new work items, update data, extend UI

---

## 4. Example Data Model (TypeScript)

```ts
export type WorkItemType = 'Feature' | 'Defect' | 'TechDebt' | 'Risk';

export interface WorkItem {
  id: string;
  title: string;
  description: string;
  type: WorkItemType;
  priority: string;
  status: string;
  estimatedHours?: number;
  userStory?: string;
  acceptanceCriteria?: string[];
  successDefinition?: string;
  dependencies?: string[];
  createdDate: string;
  updatedDate: string;
  source: string;
}

export interface Risk {
  risk: string;
  mitigation: string;
}

export interface Persona {
  persona: string;
  goals: string[];
  painPoints: string[];
  stories: string[];
}
```

---

## 5. Notes & Next Steps

- The UI should be extensible to support new work item types or additional metadata.
- Consider supporting both desktop (Electron) and web (static site) deployment.
- For large projects, add visualizations (e.g., Gantt chart, dependency graph).
- Document the mapping logic from raw JSON to UI models for maintainability.

---

_Generated by expert planner based on `.codeloops/missing-types-implementation` analysis._
